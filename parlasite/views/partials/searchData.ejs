<%
    function getPartyObjects(data) {
        var parties = [];
        for (person_i in data) {
            if (parties.indexOf(data[person_i].party.acronym) === -1) {
                parties.push(data[person_i].party);
            }
        }
        return parties;
    }
    function uniq(a, param){
        return a.filter(function(item, pos, array){
            return array.map(function(mapItem){ return mapItem[param]; }).indexOf(item[param]) === pos;
        })
    }

    var mps_data = [];
    for (person_i in mpsops) {
        mps_data.push(mpsops[person_i]);
    }

    var partyObjects = getPartyObjects(mpsops);
%>
<script>
    var  mps_data;
    var  ops_data;
    var  sps_data;

    ops_data = <%- JSON.stringify(uniq(partyObjects, 'acronym')); %>;
    mps_data = <%- JSON.stringify(mps_data); %>;
</script>