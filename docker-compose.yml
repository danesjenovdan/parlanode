version: '3'

services:
  parlassets:
    build:
      context: .
      dockerfile: dockerfiles/parlassets-dev.Dockerfile
    ports:
      - 8080:8080
    volumes:
      - ./parlassets/build/:/app/build
      - ./parlassets/public/:/app/public
      - ./parlassets/src/:/app/src

  parlacards:
    build:
      context: .
      dockerfile: dockerfiles/parlacards-dev.Dockerfile
    ports:
      - 3000:3000
    environment:
      - VITE_PARLASSETS_URL=http://localhost:8080
      - VITE_PARLADATA_URL=http://localhost:8000/v3
      - VITE_PARLACARDS_URL=http://localhost:3000
      - VITE_PARLASITE_URL=http://localhost:3066
      - VITE_METAIMAGES_URL=https://meta-image-generator.lb.djnd.si/parlameter
    volumes:
      - ./parlacards/build/:/app/build
      - ./parlacards/cards/:/app/cards
      - ./parlacards/.eslintignore:/app/.eslintignore
      - ./parlacards/.eslintrc.cjs:/app/.eslintrc.cjs
      - ./parlacards/.prettierrc.json:/app/.prettierrc.json
      - ./parlassets/:/parlassets
