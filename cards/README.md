# README IN PROGRESS

# Cards
This folder stores complete sources and information for certain cards that are developed using [Vue](//vuejs.org/) and rendered with [Vue SSR](//vuejs.org/v2/guide/ssr.html). Those sources are compiled into webpack bundles, which are in turn used to render cards using vue-server-renderer.

## File/folder organization
Cards are stored in (sub)directories that correspond to their group/method in the API request. E.g. if the request is `https://glej.parlameter.si/s/seznam-sej/`, all card files will be stored in the subfolder `s/seznam-sej`. That folder contains the following files:

- **card.json** - card metadata such as name, data source URL and time of last update.
- **card.vue** - source code of the card, implemented as a Vue component (.vue is a [single file component](https://vuejs.org/v2/guide/single-file-components.html) format that stores the template, styling and logic in the same file)
- **bundles/*** _(autogenerated)_ - precompiled Webpack bundles for server and client, extracted stylesheet
- **data.json** - sample response of the card's data URL, used as data source instead of real API during development
- **state.json** - sample state object, used for simulation purposes during development (in production, state object is passed as a URL parameter)

## Commands
- `npm run cards-build [<path-to-card>|all]` builds client and server bundles for specified card or all cards
- `npm run cards-dev <path-to-card>` starts dev server for specified card and launches browser
- `npm run generate-card <path-to-card>` generates a new card in the specified path
